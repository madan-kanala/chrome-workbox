---
layout: jsdoc
title: "Class: PrecacheManager"
jsdocNav: 
  - Modules:
    - <a href="module-sw-background-sync-queue.html#main">sw-background-sync-queue</a>
    - <a href="module-sw-broadcast-cache-update.html#main">sw-broadcast-cache-update</a>
    - <a href="module-sw-cache-expiration.html#main">sw-cache-expiration</a>
    - <a href="module-sw-cacheable-response-behavior.html#main">sw-cacheable-response-behavior</a>
    - <a href="module-sw-lib.html#main">sw-lib</a>
    - <a href="module-sw-precaching.html#main">sw-precaching</a>
    - <a href="module-sw-routing.html#main">sw-routing</a>
    - <a href="module-sw-runtime-caching.html#main">sw-runtime-caching</a>
---







    
        <h2>PrecacheManager</h2>
        
            <p>The PrecacheManager is the top level API you are likely to use with
the sw-precaching module.</p>
<p>This class will set up the install listener and orchestrate the caching
of assets.</p>
        
    

    
      

      
        <h2 class="subsection-title">Constructor</h2>

        <div class="subsection-constructor">
        

<div class="collapsing-entry method-type-class start-open">


    <h4 class="js-collapse-title" id="PrecacheManager">new PrecacheManager<span class="signature">(<span class="signature-args"></span>)</span><span class="type-signature"></span></h4>


<div class="collapse-details js-collapse-details">


  

  <div class="description">
    <p>Creating a PrecacheManager will add an install and activate event listener
to your service worker. This allows the manager to cache assets and
tidy up the no longer required assets.</p>
  </div>




<table class="method-info-table">

  

  

  



<!--
<tr>
<th>Details</th>
<td>


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>

</td>
</tr>
-->













</table>

</div>

</div>

        </div>
      

    

    

    

     

    

    

    
        <h2 class="subsection-title">Instance Methods</h2>

        <div class="subsection-methods">
        
            

<div class="collapsing-entry method-type-function ">


    <h4 class="js-collapse-title" id="cacheRevisioned"><span class="this">this.</span>cacheRevisioned<span class="signature">(<span class="signature-args">input</span>)</span><span class="type-signature"></span></h4>


<div class="collapse-details js-collapse-details">


  

  <div class="description">
    <p>To cache revisioned assets (i.e. urls / assets that you have a revision
for) can be efficiently cached and updated with this method.</p>
  </div>



    <h5>Example</h5>
    
    <pre class="prettyprint"><code>precacheManager.cacheRevisioned({
  revisionedFiles: [
    // Revision is in the file name
    '/styles/main.1234.css',

    // Object of url and revision can be used as well
    {
      url: '/',
      revision: '1234'
    },
  ]
});</code></pre>



<table class="method-info-table">

  

  

  


  <tr>
    <th>Parameters</th>
    <td>
      

<table class="params">
    

        <tr>
            
              <td class="name">input</td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                
                
                  <h6>Properties</h6>
                  

<table class="params">
    

        <tr>
            
              <td class="name">revisionedFiles</td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;(String|Object)></span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>An array of URL strings
, which should have revisioning in the file name (i.e. hello.1234.css)) or
an object with a <code>url</code> and <code>revision</code> parameter.</p>
                
              </td>
            </tr>
        </tr>

    
</table>

                
              </td>
            </tr>
        </tr>

    
</table>

    </td>
  </tr>


<!--
<tr>
<th>Details</th>
<td>


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>

</td>
</tr>
-->













</table>

</div>

</div>

        
            

<div class="collapsing-entry method-type-function ">


    <h4 class="js-collapse-title" id="cacheUnrevisioned"><span class="this">this.</span>cacheUnrevisioned<span class="signature">(<span class="signature-args">input</span>)</span><span class="type-signature"></span></h4>


<div class="collapse-details js-collapse-details">


  

  <div class="description">
    <p>To cache URLs or assets where you don't know the revisioning, should
be cached with this method. This method will always cache these files
on install, regardless of whether they are already cached or not.
This ensures they are up-to-date after a new service worker install.</p>
  </div>



    <h5>Example</h5>
    
    <pre class="prettyprint"><code>precacheManager.cacheUnrevisioned({
  unrevisionedFiles: [
    // Normal URL string
    '/example/',

    // Request with headers
    new Request(
      '/user-info.json',
      {
        headers: {
          'CustomHeader': 'Hello World.'
        }
      }
    ),
  ]
});</code></pre>



<table class="method-info-table">

  

  

  


  <tr>
    <th>Parameters</th>
    <td>
      

<table class="params">
    

        <tr>
            
              <td class="name">input</td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                
                
                  <h6>Properties</h6>
                  

<table class="params">
    

        <tr>
            
              <td class="name">unrevisionedFiles</td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;(String|Request)></span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>An array of URL
strings or a Request object, which allows you to define custom headers.</p>
                
              </td>
            </tr>
        </tr>

    
</table>

                
              </td>
            </tr>
        </tr>

    
</table>

    </td>
  </tr>


<!--
<tr>
<th>Details</th>
<td>


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>

</td>
</tr>
-->













</table>

</div>

</div>

        
            

<div class="collapsing-entry method-type-function ">


    <h4 class="js-collapse-title" id="getRevisionedCacheManager"><span class="this">this.</span>getRevisionedCacheManager<span class="signature">(<span class="signature-args"></span>)</span><span class="type-signature"> <span class="return-arrow">&rarr;</span> RevisionedCacheManager</span></h4>


<div class="collapse-details js-collapse-details">


  

  <div class="description">
    <p>Returns the revisioned cache manager.</p>
  </div>



    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const revisionedMngr = precacheMAnager.getRevisionedCacheManager();</code></pre>



<table class="method-info-table">

  

  

  



<!--
<tr>
<th>Details</th>
<td>


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>

</td>
</tr>
-->












  <tr>
  <th>Returns</th>
  <td>
  
          



<span class="param-type">RevisionedCacheManager</span>





<div class="param-desc">
    <p>The revisioned cache manager.</p>
</div>


      
  </td>
  </tr>


</table>

</div>

</div>

        
            

<div class="collapsing-entry method-type-function ">


    <h4 class="js-collapse-title" id="getUnrevisionedCacheManager"><span class="this">this.</span>getUnrevisionedCacheManager<span class="signature">(<span class="signature-args"></span>)</span><span class="type-signature"> <span class="return-arrow">&rarr;</span> UnrevisionedCacheManager</span></h4>


<div class="collapse-details js-collapse-details">


  

  <div class="description">
    <p>Returns the unrevisioned cache manager.</p>
  </div>



    <h5>Example</h5>
    
    <pre class="prettyprint"><code>const unrevisionedMngr = precacheManager.getUnrevisionedCacheManager();</code></pre>



<table class="method-info-table">

  

  

  



<!--
<tr>
<th>Details</th>
<td>


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>

</td>
</tr>
-->












  <tr>
  <th>Returns</th>
  <td>
  
          



<span class="param-type">UnrevisionedCacheManager</span>





<div class="param-desc">
    <p>The unrevisioned cache manager.</p>
</div>


      
  </td>
  </tr>


</table>

</div>

</div>

        
        </div>