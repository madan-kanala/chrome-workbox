---
layout: jsdoc
title: "Module: sw-cli"
jsdocNav: 
  - Modules:
    - <a href="module-sw-background-sync-queue.html#main">sw-background-sync-queue</a>
    - <a href="module-sw-broadcast-cache-update.html#main">sw-broadcast-cache-update</a>
    - <a href="module-sw-cache-expiration.html#main">sw-cache-expiration</a>
    - <a href="module-sw-cacheable-response.html#main">sw-cacheable-response</a>
    - <a href="module-sw-cli.html#main">sw-cli</a>
    - <a href="module-sw-lib.html#main">sw-lib</a>
    - <a href="module-sw-precaching.html#main">sw-precaching</a>
    - <a href="module-sw-routing.html#main">sw-routing</a>
    - <a href="module-sw-runtime-caching.html#main">sw-runtime-caching</a>
---







    
        
            
        
    

    
        
            <div class="description"><h1 id="sw-cli">sw-cli</h1>
<p>Use as a command line tool or as a normal node-module.</p>
<p>When first starting out you may find the CLI a friendly way to see
what sw-cli can do.</p>
<p>To generate a service worker that will make your site work offline,
run the following in your terminal:</p>
<pre class="prettyprint source"><code>sw-cli generate-sw</code></pre><p>For some web apps this command will be all you need, though you may
want to generate the service worker as part of your build process.
you can do by calling the <code>generateSW()</code> method after all your assets
have been built.</p></div>
        

        
            

<div class="collapsing-entry method-type-module ">



<div class="collapse-details js-collapse-details">




    <h5>Examples</h5>
    
        <p class="code-caption">Generate a service worker for a project.</p>
    
    <pre class="prettyprint"><code>const swCLI = require('sw-cli');

swCLI.generateSW({
  rootDirectory: './build/',
  globPatterns: ['**\/*.{html,js,css}'],
  globIgnores: ['admin.html'],
  serviceWorkerName: 'sw.js'
})
.then(() => {
  console.log('Service worker generated.');
});</code></pre>

        <p class="code-caption">Generate a build manifest file.</p>
    
    <pre class="prettyprint"><code>const swCLI = require('sw-cli');

swCLI.generateFileManifest({
  dest: './build/scripts/manifest.js',
  rootDirectory: './build/',
  globPatterns: ['**\/*.{html,js,css}'],
  globIgnores: ['admin.html']
})
.then(() => {
  console.log('Build file has been created.');
});</code></pre>

        <p class="code-caption">Get a list of files with revision details.</p>
    
    <pre class="prettyprint"><code>const swCLI = require('sw-cli');

swCLI.getFileManifestEntries({
  rootDirectory: './build/',
  globPatterns: ['**\/*.{html,js,css}'],
  globIgnores: ['admin.html']
})
.then((fileDetails) => {
  // An array of file details include a `url` and `revision` parameter.
});</code></pre>



<table class="method-info-table">

  

  

  



<!--
<tr>
<th>Details</th>
<td>


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>

</td>
</tr>
-->













</table>

</div>

</div>

        
    

    

    

     

    

    

    
        <h2 class="subsection-title">Instance Methods</h2>

        <div class="subsection-methods">
        
            

<div class="collapsing-entry method-type-function ">


    <h4 class="js-collapse-title" id=".generateFileManifest"><span class="type-attribs">(static) </span><span class="this">this.</span>generateFileManifest<span class="signature">(<span class="signature-args">input</span>)</span><span class="type-signature"> <span class="return-arrow">&rarr;</span> Promise</span></h4>


<div class="collapse-details js-collapse-details">


  

  <div class="description">
    
  </div>



    <h5>Example</h5>
    
        <p class="code-caption">Generate a service worker for a project.</p>
    
    <pre class="prettyprint"><code>const swCLI = require('sw-cli');

swCLI.generateFileManifest({
  dest: './build/manifest.js'
  rootDirectory: './build/',
  globPatterns: ['**\/*.{html,js,css}'],
  globIgnores: ['admin.html']
})
.then(() => {
  console.log('Build Manifest generated.');
});

This method will generate a file manifest that can be used in a service
worker for caching assets offline..</code></pre>



<table class="method-info-table">

  

  

  


  <tr>
    <th>Parameters</th>
    <td>
      

<table class="params">
    

        <tr>
            
              <td class="name">input</td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                
                
                  <h6>Properties</h6>
                  

<table class="params">
    

        <tr>
            
              <td class="name">dest</td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>The name and path you wish to write your
manifest file to.</p>
                
              </td>
            </tr>
        </tr>

    

        <tr>
            
              <td class="name">rootDirectory</td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>The root of the files you wish to
be cached. This will also be the directory the service worker and library
files are written to.</p>
                
              </td>
            </tr>
        </tr>

    

        <tr>
            
              <td class="name">globPatterns</td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;String></span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>Patterns to glob for when
generating the build manifest.</p>
                
              </td>
            </tr>
        </tr>

    

        <tr>
            
              <td class="name">globIgnores</td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Array.&lt;String></span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>Patterns to exclude when
generating the build manifest.</p>
                
              </td>
            </tr>
        </tr>

    
</table>

                
              </td>
            </tr>
        </tr>

    
</table>

    </td>
  </tr>


<!--
<tr>
<th>Details</th>
<td>


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>

</td>
</tr>
-->












  <tr>
  <th>Returns</th>
  <td>
  
          



<span class="param-type">Promise</span>





<div class="param-desc">
    <p>Resolves once the service worker has been generated
with a precache list.</p>
</div>


      
  </td>
  </tr>


</table>

</div>

</div>

        
            

<div class="collapsing-entry method-type-function ">


    <h4 class="js-collapse-title" id=".generateSW"><span class="type-attribs">(static) </span><span class="this">this.</span>generateSW<span class="signature">(<span class="signature-args">input</span>)</span><span class="type-signature"> <span class="return-arrow">&rarr;</span> Promise</span></h4>


<div class="collapse-details js-collapse-details">


  

  <div class="description">
    
  </div>



    <h5>Example</h5>
    
        <p class="code-caption">Generate a service worker for a project.</p>
    
    <pre class="prettyprint"><code>const swCLI = require('sw-cli');

swCLI.generateSW({
  rootDirectory: './build/',
  globPatterns: ['**\/*.{html,js,css}'],
  globIgnores: ['admin.html']
  serviceWorkerName: 'sw.js'
})
.then(() => {
  console.log('Service worker generated.');
});

This method will generate a working service worker with an inlined
file manifest.</code></pre>



<table class="method-info-table">

  

  

  


  <tr>
    <th>Parameters</th>
    <td>
      

<table class="params">
    

        <tr>
            
              <td class="name">input</td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                
                
                  <h6>Properties</h6>
                  

<table class="params">
    

        <tr>
            
              <td class="name">rootDirectory</td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>The root of the files you wish to
be cached. This will also be the directory the service worker and library
files are written to.</p>
                
              </td>
            </tr>
        </tr>

    

        <tr>
            
              <td class="name">globPatterns</td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;String></span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>Patterns to glob for when
generating the build manifest.</p>
                
              </td>
            </tr>
        </tr>

    

        <tr>
            
              <td class="name">globIgnores</td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Array.&lt;String></span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>Patterns to exclude when
generating the build manifest.</p>
                
              </td>
            </tr>
        </tr>

    

        <tr>
            
              <td class="name">serviceWorkerName</td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>The name you wish to give to your
service worker file.</p>
                
              </td>
            </tr>
        </tr>

    
</table>

                
              </td>
            </tr>
        </tr>

    
</table>

    </td>
  </tr>


<!--
<tr>
<th>Details</th>
<td>


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>

</td>
</tr>
-->












  <tr>
  <th>Returns</th>
  <td>
  
          



<span class="param-type">Promise</span>





<div class="param-desc">
    <p>Resolves once the service worker has been generated
with a precache list.</p>
</div>


      
  </td>
  </tr>


</table>

</div>

</div>

        
            

<div class="collapsing-entry method-type-function ">


    <h4 class="js-collapse-title" id=".getFileManifestEntries"><span class="type-attribs">(static) </span><span class="this">this.</span>getFileManifestEntries<span class="signature">(<span class="signature-args">input</span>)</span><span class="type-signature"> <span class="return-arrow">&rarr;</span> Array.&lt;ManifestEntry></span></h4>


<div class="collapse-details js-collapse-details">


  

  <div class="description">
    <p>To get a list of files and revision details that can be used to ultimately
precache assets in a service worker.</p>
  </div>




<table class="method-info-table">

  

  

  


  <tr>
    <th>Parameters</th>
    <td>
      

<table class="params">
    

        <tr>
            
              <td class="name">input</td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                
                
                  <h6>Properties</h6>
                  

<table class="params">
    

        <tr>
            
              <td class="name">globPatterns</td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;String></span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>Patterns used to select files to
include in the file entries.</p>
                
              </td>
            </tr>
        </tr>

    

        <tr>
            
              <td class="name">globIgnores</td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;String></span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>Patterns used to exclude files
from the file entries.</p>
                
              </td>
            </tr>
        </tr>

    

        <tr>
            
              <td class="name">rootDirectory</td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            

            
            </td>

            
              <td></td>
            

            <tr>
              <td></td>
              <td class="description last">
                <p>The directory run the glob patterns over.</p>
                
              </td>
            </tr>
        </tr>

    
</table>

                
              </td>
            </tr>
        </tr>

    
</table>

    </td>
  </tr>


<!--
<tr>
<th>Details</th>
<td>


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>

</td>
</tr>
-->












  <tr>
  <th>Returns</th>
  <td>
  
          



<span class="param-type">Array.&lt;ManifestEntry></span>





<div class="param-desc">
    <p>An array of ManifestEntries will include
a url and revision details for each file found.</p>
</div>


      
  </td>
  </tr>


</table>

</div>

</div>

        
        </div>
    

    
        <h2 class="subsection-title">Type Definitions</h2>

        <div class="subsection-definitions">
        
                
<div class="collapsing-entry member-type-typedef">
<h4 class="js-collapse-title" id=".ManifestEntry">ManifestEntry</h4>

<div class="collapse-details js-collapse-details">









<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

        


<p><strong>Properties</strong></p>


<table class="method-info-table">
  
  <tr>
    <td>
    <table class="props">
    
    <tr>
      
          <td class="name"><code>url</code></td>
      
      <td class="type">
      
          
<span class="param-type">String</span>



      
      </td>
    </tr>
    
    
    <tr>
      <td></td>
      <td class="description last">
        <p>The URL to the asset in the manifest.</p>
        
      </td>
    </tr>
    
    <tr>
      
          <td class="name"><code>revision</code></td>
      
      <td class="type">
      
          
<span class="param-type">String</span>



      
      </td>
    </tr>
    
    
    <tr>
      <td></td>
      <td class="description last">
        <p>The revision details for the file. This is a
hash generated by node based on the file contents.</p>
        
      </td>
    </tr>
    
    </table>
    </td>
  </tr>
  
</table>


    
</dl>



</div>
</div>

            
        </div>