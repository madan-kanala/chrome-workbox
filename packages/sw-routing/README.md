# sw-routing

A service worker helper library to route request URLs to handlers.

## Installation

`npm install --save-dev sw-routing`

## Demo

Browse sample source code in the [demo directory](https://github.com/GoogleChrome/sw-helpers/tree/future-of-sw-tooling/packages/sw-routing/demo), or
[try it out](https://googlechrome.github.io/sw-helpers/sw-routing/demo/) directly.

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### sw-routing

[packages/sw-routing/src/index.js:21-21](https://github.com/GoogleChrome/sw-helpers/blob/a6f471056b52998c278dcb22dfc96169ea99932a/packages/sw-routing/src/index.js#L21-L21 "Source code on GitHub")

sw-routing Module

### ExpressRoute

[packages/sw-routing/src/lib/express-route.js:31-44](https://github.com/GoogleChrome/sw-helpers/blob/a6f471056b52998c278dcb22dfc96169ea99932a/packages/sw-routing/src/lib/express-route.js#L31-L44 "Source code on GitHub")

**Extends Route**

ExpressRoute is a helper class to make defining Express-style
[Routes][Route](#route) easy.

Under the hood, it uses the [`path-to-regexp`](https://www.npmjs.com/package/path-to-regexp)
library to transform the `path` parameter into a regular expression, which is
then matched against the URL's path.

### RegExpRoute

[packages/sw-routing/src/lib/regexp-route.js:26-38](https://github.com/GoogleChrome/sw-helpers/blob/a6f471056b52998c278dcb22dfc96169ea99932a/packages/sw-routing/src/lib/regexp-route.js#L26-L38 "Source code on GitHub")

**Extends Route**

RegExpRoute is a helper class to make defining Regular Expression based
[Routes][Route](#route) easy.

### Route

[packages/sw-routing/src/lib/route.js:32-54](https://github.com/GoogleChrome/sw-helpers/blob/a6f471056b52998c278dcb22dfc96169ea99932a/packages/sw-routing/src/lib/route.js#L32-L54 "Source code on GitHub")

The Route class is used to configure a _when_
[predicate](https://en.wikipedia.org/wiki/Predicate_(mathematical_logic))
a handler.

The _when_ predicate is used by the Router to determine if a given request
matches this Route. If _when_ returns true (i.e. this route matches the
current request), then the handler will be given the
[FetchEvent](https://developer.mozilla.org/en-US/docs/Web/API/FetchEvent)
so that it can respond to the request.

### Router

[packages/sw-routing/src/lib/router.js:25-110](https://github.com/GoogleChrome/sw-helpers/blob/a6f471056b52998c278dcb22dfc96169ea99932a/packages/sw-routing/src/lib/router.js#L25-L110 "Source code on GitHub")

The Router takes a set of [Route](#route)'s and will direct fetch events
to those Route in the order they are registered.

### constructor

[packages/sw-routing/src/lib/express-route.js:36-43](https://github.com/GoogleChrome/sw-helpers/blob/a6f471056b52998c278dcb22dfc96169ea99932a/packages/sw-routing/src/lib/express-route.js#L36-L43 "Source code on GitHub")

**Parameters**

-   `path` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The path to use for routing.
-   `handler` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The handler to manage the response.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.path`  
    -   `$0.handler`  
    -   `$0.method`  

### constructor

[packages/sw-routing/src/lib/regexp-route.js:31-37](https://github.com/GoogleChrome/sw-helpers/blob/a6f471056b52998c278dcb22dfc96169ea99932a/packages/sw-routing/src/lib/regexp-route.js#L31-L37 "Source code on GitHub")

**Parameters**

-   `regExp` **[RegExp](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp)** The regular expression to match against URL's.
-   `handler` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The handler to manage the response.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `$0.regExp`  
    -   `$0.handler`  
    -   `$0.method`  

### constructor

[packages/sw-routing/src/lib/route.js:41-53](https://github.com/GoogleChrome/sw-helpers/blob/a6f471056b52998c278dcb22dfc96169ea99932a/packages/sw-routing/src/lib/route.js#L41-L53 "Source code on GitHub")

The constructor for Route expects an object with `when` and `handler`
properties which should both be functions.

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** Options to initialize the Route with.
    -   `options.when` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The when predicate function.
    -   `options.handler` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The handler function that will respond
        to a FetchEvent.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `{}`)
    -   `$0.match`  
    -   `$0.handler`  
    -   `$0.method`  

### setDefaultHandler

[packages/sw-routing/src/lib/router.js:32-36](https://github.com/GoogleChrome/sw-helpers/blob/a6f471056b52998c278dcb22dfc96169ea99932a/packages/sw-routing/src/lib/router.js#L32-L36 "Source code on GitHub")

A default handler will have it's handle method called when a
request doesn't have a matching route.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.handler` **Handler** A handler to deal with default routes.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `{}`)
    -   `$0.handler`  

### setCatchHandler

[packages/sw-routing/src/lib/router.js:44-48](https://github.com/GoogleChrome/sw-helpers/blob/a6f471056b52998c278dcb22dfc96169ea99932a/packages/sw-routing/src/lib/router.js#L44-L48 "Source code on GitHub")

If a Route throws an error while handling a request, this catch handler
will be called to return an error case.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.handler` **Handler** A handler to deal with errors in routes.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `{}`)
    -   `$0.handler`  

### registerRoutes

[packages/sw-routing/src/lib/router.js:58-98](https://github.com/GoogleChrome/sw-helpers/blob/a6f471056b52998c278dcb22dfc96169ea99932a/packages/sw-routing/src/lib/router.js#L58-L98 "Source code on GitHub")

Register routes will take an array of Routes to register with the
router.

**Parameters**

-   `options` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `options.routes` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Route](#route)>** 
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `{}`)
    -   `$0.routes`  

Returns **void** 

### registerRoute

[packages/sw-routing/src/lib/router.js:105-109](https://github.com/GoogleChrome/sw-helpers/blob/a6f471056b52998c278dcb22dfc96169ea99932a/packages/sw-routing/src/lib/router.js#L105-L109 "Source code on GitHub")

Registers a route with the router.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** 
    -   `input.route` **[Route](#route)** The route to register.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `{}`)
    -   `$0.route`  
