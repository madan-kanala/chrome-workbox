# sw-cacheable-response-behavior

This library takes a Response object and  determines whether it's cacheable, based on a specific configuration.

## Installation

`npm install --save-dev sw-cacheable-response-behavior`

## Demo

Browse sample source code in the [demo directory](https://github.com/GoogleChrome/sw-helpers/tree/future-of-sw-tooling/packages/sw-cacheable-response-behavior/demo), or
[try it out](https://googlechrome.github.io/sw-helpers/sw-cacheable-response-behavior/demo/) directly.

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### sw-cacheable-response-behavior

[packages/sw-cacheable-response-behavior/src/index.js:21-21](https://github.com/GoogleChrome/sw-helpers/blob/5504f5454a124329ec6075addf848e3aeb815437/packages/sw-cacheable-response-behavior/src/index.js#L21-L21 "Source code on GitHub")

sw-cacheable-response-behavior Module

### Behavior

[packages/sw-cacheable-response-behavior/src/lib/behavior.js:48-119](https://github.com/GoogleChrome/sw-helpers/blob/5504f5454a124329ec6075addf848e3aeb815437/packages/sw-cacheable-response-behavior/src/lib/behavior.js#L48-L119 "Source code on GitHub")

**Examples**

```javascript
// Used as an automatically invoked as "behavior" by a RequestWrapper:

const cacheName = 'runtime-cache';
const requestWrapper = new goog.runtimeCaching.RequestWrapper({
  cacheName,
  behaviors: [
    new goog.cacheableResponse.Behavior({
      statuses: [0, 200, 404]
    })
  ]
});

// Set up a route to match any requests made against the example.com domain.
// The responses will be cached if the response code is 0, 200, or 404, and
// will not be cached otherwise.
const route = new goog.routing.RegExpRoute({
  match: ({url}) => url.domain === 'example.com',
  handler: new goog.runtimeCaching.StaleWhileRevalidate({requestWrapper})
});
```

```javascript
// Explicitly invoked usage independent of the goog.routing framework, via
// the isResponseCacheable() method:

// TODO: Write sample code.
```

### constructor

[packages/sw-cacheable-response-behavior/src/lib/behavior.js:62-73](https://github.com/GoogleChrome/sw-helpers/blob/5504f5454a124329ec6075addf848e3aeb815437/packages/sw-cacheable-response-behavior/src/lib/behavior.js#L62-L73 "Source code on GitHub")

Creates a new `Behavior` instance, which stores configuration and logic
to determine whether a `Response` object is cacheable or not.

If multiple criteria are present (e.g. both `statuses` and `headers`), then
the `Response` needs to meet all of the criteria to be cacheable.

**Parameters**

-   `input` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The input object to this function.
    -   `input.statuses` **\[[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)>]** The status codes that are
               checked when determining whether a `Response` is cacheable.
    -   `input.headers` **\[[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)&lt;[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String), [String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)>]** The header values that are
               checked when determining whether a `Response` is cacheable.
-   `$0` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)**  (optional, default `{}`)
    -   `$0.statuses`  
    -   `$0.headers`  
